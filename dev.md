# 数据可视化设计

图标选择的依据：

![](./static/choose_chart.jpg)

# 接口

## 接口列表

### 数据源绘图（POST）

### 对象绘图（POST）

### 系统信息（GET）

`/api/sysinfo`

## 数据规范

### 数据类型

#### 时间

开始时间（2020-01-01 或者 2020/01/01）  
结束时间（2022-01-07 或者 2020/01/07）  
时间间隔（1s、1m、1h、1d、1m、2y）  

值列表

#### 数据

值列表

#### 类别

值列表

### 维度规范

二维数据是两个序列

三维数据是一个序列和一个字典

# 开发日志

## 2023.08.02

暂时不去考虑plot_task、多线程、mysql事务

关于不使用mysql事务：
由于不涉及需要开启事务的情况，原因有2：
1. 程序暂不支持并发，所有的操作都是顺序执行的 
2. 批量插入的操作准备进行sql拼接，用一条sql语句插入多条数据

关于plot_task任务单：
决定剔除plot_task任务单，access_log表中的access_log_id已经可以充当plot_task的功能，没必要维护一个plot_result

首先将绘图功能实现，大体流程是：
1. 用户访问接口，access_log记录
2. 顺序的方式生成plot_result，生成的过程包括：生成图片 --> 上传图片到fastdfs
3. 向用户返回结果

